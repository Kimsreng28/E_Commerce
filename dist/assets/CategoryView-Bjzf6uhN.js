import{B as E}from"./Breadcrumb_Component-Co-8O1x_.js";import{B as I}from"./Button_Component-BslC29Dg.js";import{_ as V,f as i,g as c,s as e,x as b,F as f,m as F,t as S,C as T,D as z,a as m,o as R,c as L,j as C,q as P,l as h,y as U}from"./index-CM7MdMiN.js";import{F as X}from"./Footer_Component-JhSoATJ7.js";import{N as j}from"./Navbar_Component-CWWY1Zf6.js";import{P as q,u as G}from"./ProductCard_Component-LxSkXZCQ.js";import{L as J}from"./LoadingView-D8r7OzeQ.js";import"./useUserSignupStore-u2h-RB6q.js";const O={name:"FilterComponent",props:{subCategory:String},data(){return{selectedColor:"#6d4c41",selectedSize:"Small",selectedSubCategory:null,selectedTab:"Clothes",priceValue:100,subCategories:{Clothes:["T-shirts","Pants","Shirts","Jacket","Full Outfit"],Shoes:["Flats","Formal","Boots","Sport Shoes","Loafers"],Accessories:["Rings","Necklaces","Earring & Bow","Glasses"]},colors:["#A0BCE0","#E07575","#0FB763","#9E9E9E","#efebe9"],sizes:{Clothes:["S","M","L","XL"],Shoes:[28,32,36,40,44],Accessories:["S","M","L","XL"]}}},computed:{displayedSubCategories(){return this.subCategories[this.selectedTab]},displayedSizes(){return this.sizes[this.selectedTab]}},methods:{changeTab(u){this.selectedTab=u,this.selectedSubCategory=null,this.selectedColor=null,this.selectedSize=null,this.priceValue=100},selectSubCategory(u){this.selectedSubCategory=u},selectSize(u){this.selectedSize=u},applyFilter(){this.$emit("apply-filter",{tab:this.selectedTab,subCategory:this.selectedSubCategory,size:this.selectedSize,price:this.priceValue})},clearFilter(){this.selectedTab="Clothes",this.resetTabSpecificFilters(),this.$emit("clear-filter")},resetTabSpecificFilters(){this.selectedSubCategory=null,this.selectedSize=null,this.priceValue=100}}},Q={class:"filter"},H={class:"tabs"},K={class:"filters"},W={class:"subCategory"},Y=["onClick"],Z={key:0,class:"material-icons"},$={key:1,class:"material-icons"},ee={class:"filter-section"},te={class:"price-range"},se={class:"price-input"},oe={class:"price-values"},le={class:"filter-section"},ie={class:"sizes"},ne=["onClick"],re={class:"actions"};function ae(u,t,_,d,r,o){return i(),c("div",Q,[e("div",H,[e("button",{class:b(["btnClothe",{active:r.selectedTab==="Clothes"}]),onClick:t[0]||(t[0]=s=>o.changeTab("Clothes"))}," Clothes ",2),e("button",{class:b(["btnShoes",{active:r.selectedTab==="Shoes"}]),onClick:t[1]||(t[1]=s=>o.changeTab("Shoes"))}," Shoes ",2),e("button",{class:b(["btnAccessories",{active:r.selectedTab==="Accessories"}]),onClick:t[2]||(t[2]=s=>o.changeTab("Accessories"))}," Accessories ",2)]),e("div",K,[t[9]||(t[9]=e("div",{class:"title"},[e("p",null,"Filters"),e("span",{class:"material-icons"},"tune")],-1)),t[10]||(t[10]=e("div",{class:"hr"},[e("hr")],-1)),e("div",W,[(i(!0),c(f,null,F(o.displayedSubCategories,(s,p)=>(i(),c("div",{class:"sub",key:p,onClick:a=>o.selectSubCategory(s)},[e("p",null,S(s),1),r.selectedSubCategory!==s?(i(),c("span",Z,"check_box_outline_blank")):(i(),c("span",$,"check_box"))],8,Y))),128))]),t[11]||(t[11]=e("div",{class:"hr"},[e("hr")],-1)),e("div",ee,[t[7]||(t[7]=e("p",null,"Price",-1)),e("div",te,[T(e("input",{type:"range",min:"50",max:"200","onUpdate:modelValue":t[3]||(t[3]=s=>r.priceValue=s),class:"range"},null,512),[[z,r.priceValue]]),e("div",se,[T(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=s=>r.priceValue=s),min:"50",max:"200",step:"1",class:"price-text-input"},null,512),[[z,r.priceValue,void 0,{number:!0}]])]),e("div",oe,[e("span",null,"$"+S(r.priceValue),1)])])]),t[12]||(t[12]=e("div",{class:"hr"},[e("hr")],-1)),e("div",le,[t[8]||(t[8]=e("p",null,"Size",-1)),e("div",ie,[(i(!0),c(f,null,F(o.displayedSizes,s=>(i(),c("button",{key:s,class:b({active:r.selectedSize===s}),onClick:p=>o.selectSize(s)},S(s),11,ne))),128))])]),e("div",re,[e("button",{class:"apply",onClick:t[5]||(t[5]=(...s)=>o.applyFilter&&o.applyFilter(...s))},"Apply Filter"),e("button",{class:"clear",onClick:t[6]||(t[6]=(...s)=>o.clearFilter&&o.clearFilter(...s))},"Clear All")])])])}const ce=V(O,[["render",ae],["__scopeId","data-v-8660956f"]]),de={name:"CategoryView",components:{Navbar_Component:j,Breadcrumb_Component:E,Filter_Component:ce,ProductCard_Component:q,Button_Component:I,Footer_Component:X,LoadingView:J},setup(){const u=m(!0),t=m(!1),_=m(!1);R(()=>{setTimeout(()=>{u.value=!1},1e3)});const d=U(),r=G();m(r.products);const o=m(6),s=m(""),p={tab:"All",color:null,subCategory:null,size:null,price:100},a=m({...p}),v=L(()=>r.products.filter(l=>{const B=l.category===a.value.tab||a.value.tab==="All",w=!a.value.subCategory||l.subCategory===a.value.subCategory,A=!a.value.color||l.color.includes(a.value.color),M=!a.value.size||l.size.includes(a.value.size),D=l.price<=a.value.price,N=!s.value||l.title.toLowerCase().includes(s.value.toLowerCase())||l.description.toLowerCase().includes(s.value.toLowerCase());return B&&w&&A&&M&&N&&D})),g=l=>{s.value=l,t.value=!0,setTimeout(()=>{t.value=!1},1e3)},y=l=>{a.value=l};return{displayedProducts:L(()=>v.value.slice(0,o.value)),goToProductDetail:l=>{console.log("Navigating to product detail with ID:",l),d.push({name:"productDetail",params:{id:l}})},loadMoreProducts:()=>{_.value=!0,setTimeout(()=>{const l=o.value+6;o.value=l,console.log("Next index: ",l),console.log("Displayed products count: ",o.value),_.value=!1},1e3)},handleSearch:g,handleFilterChange:y,isLoading:u,resetFilters:()=>{a.value={...p},s.value="",o.value=v.value.length},isSearching:t,isLoadMoreLoading:_}}},ue={class:"categoryScreen"},pe={key:0,class:"load"},me={key:1},Ce={class:"filterProduct"},he={class:"div"},_e={class:"select"},ve={key:0,class:"loadSearch"},be={key:1,class:"showProduct"},ge={class:"loadMore"},ye={key:0,class:"loadSearch"};function Se(u,t,_,d,r,o){const s=h("Navbar_Component"),p=h("LoadingView"),a=h("Breadcrumb_Component"),v=h("Filter_Component"),g=h("ProductCard_Component"),y=h("Button_Component"),k=h("Footer_Component");return i(),c("div",ue,[C(s,{"on-search":d.handleSearch},null,8,["on-search"]),d.isLoading?(i(),c("div",pe,[C(p)])):(i(),c("div",me,[C(a),t[0]||(t[0]=e("h1",{style:{"font-family":"Saira, sans-serif"}},"Category",-1)),e("div",Ce,[e("div",he,[e("div",_e,[C(v,{onApplyFilter:d.handleFilterChange,onClearFilter:d.resetFilters},null,8,["onApplyFilter","onClearFilter"])]),d.isSearching?(i(),c("div",ve,[C(p)])):(i(),c("div",be,[(i(!0),c(f,null,F(d.displayedProducts,n=>(i(),P(g,{id:n.id,key:n.id,"name-product":n.title,"image-product":n.image,"rating-product":n.rating,"price-product":n.price,"size-product":n.size,"color-product":n.color,"stock-product":n.stock,"description-product":n.description,"discount-product":n.discount,"image-details":n.imageDetails,"old-price":n.oldPrice,class:"product-card",onClick:x=>d.goToProductDetail(n.id)},null,8,["id","name-product","image-product","rating-product","price-product","size-product","color-product","stock-product","description-product","discount-product","image-details","old-price","onClick"]))),128))]))]),e("div",ge,[d.isLoadMoreLoading?(i(),c("div",ye,[C(p)])):(i(),P(y,{key:1,"name-button":"Load More","color-button":"#FFFFFF","background-color-button":"#958383","height-button":"50px","width-button":"200px",onClick:d.loadMoreProducts},null,8,["onClick"]))])]),C(k)]))])}const Be=V(de,[["render",Se],["__scopeId","data-v-87f6256f"]]);export{Be as default};

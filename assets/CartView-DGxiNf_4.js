import{B}from"./Breadcrumb_Component-hauAcdFA.js";import{B as v}from"./Button_Component-Bseh6dy0.js";import{C as x}from"./CardCheckProduct_Component-ClzvMZ3u.js";import{_ as k,a as _,c as T,f as r,g as i,s as o,t as m,C as y,I as w,D as I,j as l,B as g,l as p,F as N,m as D,q as O}from"./index-CtQclHPH.js";import{F as V}from"./Footer_Component-Dtm_2BHz.js";import{N as L,u as P}from"./Navbar_Component-ZR1cQJ3T.js";import{u as E}from"./useCheckOut-CV47Pdpq.js";import{L as q}from"./LoadingView-CAG0qKEz.js";import"./useUserSignupStore-Kl5PjanY.js";const $={name:"PriceSummary_Component",components:{Button_Component:v},props:{titleSummary:String,subtotalPrice:Number,shippingPrice:{type:Number,default:0},discountPrice:{type:Number,default:0},couponPrice:{type:Number,default:0},showCoupon:{type:Boolean,default:!0}},setup(s){const t=_(""),e=_(0),n=_(!1),d=T(()=>s.subtotalPrice+s.shippingPrice-e.value);return{couponCode:t,discountPrice:e,invalidCoupon:n,calculatedTotalPrice:d,applyCoupon:()=>{if(t.value==="DISCOUNT50"){let a=s.subtotalPrice*.5;a=Math.min(a,40),e.value=a,localStorage.setItem("discountPrice",a.toFixed(2)),n.value=!1,alert(`Coupon Applied! Discount: -$${a.toFixed(2)}`)}else n.value=!0,e.value=0,localStorage.setItem("discountPrice","0")}}}},A={class:"priceSummary"},z={class:"titleSummary"},M={class:"subtotalPrice"},R={class:"shipping"},U={class:"discount"},j={key:0,class:"negative"},Y={key:1},Z={class:"coupon"},G={key:0,class:"error-message"},H={class:"totalPrice"};function J(s,t,e,n,d,c){const a=p("Button_Component");return r(),i("div",A,[o("div",z,[o("p",null,m(e.titleSummary),1)]),o("div",M,[t[1]||(t[1]=o("p",null,"Subtotal:",-1)),o("p",null,"$"+m(e.subtotalPrice.toFixed(2)),1)]),t[5]||(t[5]=o("div",{class:"hr"},[o("hr")],-1)),o("div",R,[t[2]||(t[2]=o("p",null,"Shipping:",-1)),o("p",null,"$"+m(e.shippingPrice.toFixed(2)),1)]),t[6]||(t[6]=o("div",{class:"hr"},[o("hr")],-1)),o("div",U,[t[3]||(t[3]=o("p",null,"Discount:",-1)),n.discountPrice>0?(r(),i("p",j,"- $"+m(n.discountPrice.toFixed(2)),1)):(r(),i("p",Y,"$0.00"))]),t[7]||(t[7]=o("div",{class:"hr"},[o("hr")],-1)),y(o("div",Z,[y(o("input",{type:"text",placeholder:"Coupon Code","onUpdate:modelValue":t[0]||(t[0]=C=>n.couponCode=C)},null,512),[[I,n.couponCode]]),l(a,{"name-button":"Apply coupon","backgroundColor-button":"#958383","height-button":"60px","width-button":"245px","color-button":"#FFFFFF",onClick:n.applyCoupon},null,8,["onClick"])],512),[[w,e.showCoupon]]),n.invalidCoupon?(r(),i("p",G,"Invalid coupon code!")):g("",!0),o("div",H,[t[4]||(t[4]=o("p",null,"Total:",-1)),o("p",null,"$"+m(n.calculatedTotalPrice.toFixed(2)),1)])])}const K=k($,[["render",J],["__scopeId","data-v-0bca6e27"]]),Q="/assets/empty-cart-CxmdfrZg.png",W={name:"CartView",components:{Navbar_Component:L,Footer_Component:V,Breadcrumb_Component:B,Button_Component:v,CardCheckProduct_Component:x,PriceSummary_Component:K,LoadingView:q},data(){return{isLoading:!0,couponCode:"",couponPrice:0}},computed:{cartItems(){return P().cartItems.map(t=>{const e=t.discount||"0%",n=parseFloat(e.replace("%",""))||0,d=t.price*n/100;return{...t,discountPrice:d}})},isCartEmpty(){return this.cartItems.length===0},shippingPrice(){return .25},subtotalPrice(){return this.cartItems.reduce((s,t)=>s+t.price*t.quantity,0)},totalPrice(){return this.subtotalPrice-this.totalDiscountPrice+this.shippingPrice-this.couponPrice}},methods:{loadData(){setTimeout(()=>{this.isLoading=!1},1e3)},moveAllToShop(){P().clearCart(),alert("All items return to shop! Return.")},goToCheckOut(){const s=P(),t=E();t.clearCheckOut(),s.cartItems.forEach(e=>{t.addToCheckOut(e)}),this.$router.push({path:"/checkout",query:{totalPrice:this.totalPrice}})},navigateToCategory(){this.$router.push({path:"/category"})}},mounted(){this.loadData()}},X={class:"cartScreen"},tt={key:0,class:"load"},ot={key:1},et={key:0,class:"title"},nt={key:1,class:"emptyCart"},rt={class:"startShopping"},st={key:2,class:"cartCheck"},ct={class:"itemCheck"},it={class:"totalSummary"},at={key:3,class:"buttonOfScreen"};function ut(s,t,e,n,d,c){const a=p("Navbar_Component"),C=p("LoadingView"),b=p("Breadcrumb_Component"),h=p("Button_Component"),F=p("CardCheckProduct_Component"),f=p("PriceSummary_Component"),S=p("Footer_Component");return r(),i("div",X,[l(a),d.isLoading?(r(),i("div",tt,[l(C)])):(r(),i("div",ot,[l(b),c.isCartEmpty?g("",!0):(r(),i("div",et,t[0]||(t[0]=[o("p",null,"Cart Check",-1)]))),c.isCartEmpty?(r(),i("div",nt,[t[1]||(t[1]=o("img",{src:Q,alt:"Empty Cart",class:"emptyCartImage"},null,-1)),t[2]||(t[2]=o("p",{class:"emptyCartText"},"Your cart is empty",-1)),o("div",rt,[l(h,{nameButton:"Start Shopping",backgroundColorButton:"#958383",widthButton:"250px",heightButton:"60px",colorButton:"#FFFFFF",onClick:c.navigateToCategory},null,8,["onClick"])])])):(r(),i("div",st,[o("div",ct,[(r(!0),i(N,null,D(c.cartItems,u=>(r(),O(F,{class:"cardCheck",key:u.id,id:u.id,imageProduct:u.image,discountProduct:u.discount,nameProduct:u.name,priceProduct:u.price,quantity:u.quantity,"color-product":u.color,"size-product":u.size,showDeleteButton:!0},null,8,["id","imageProduct","discountProduct","nameProduct","priceProduct","quantity","color-product","size-product"]))),128))]),o("div",it,[l(f,{titleSummary:"Order summary",subtotalPrice:c.subtotalPrice,shippingPrice:c.shippingPrice,discountPrice:s.totalDiscountPrice,totalPrice:c.totalPrice,"coupon-price":d.couponPrice,showCoupon:!0},null,8,["subtotalPrice","shippingPrice","discountPrice","totalPrice","coupon-price"])])])),c.isCartEmpty?g("",!0):(r(),i("div",at,[l(h,{nameButton:"Return To Shop",backgroundColorButton:"#958383",widthButton:"250px",heightButton:"60px",colorButton:"#FFFFFF",onClick:c.moveAllToShop},null,8,["onClick"]),l(h,{class:"btnCheckOut","name-button":"Process To Check Out","backgroundColor-button":"#564949","height-button":"60px","width-button":"300px","color-button":"#FFFFFF",onClick:c.goToCheckOut},null,8,["onClick"])])),l(S,{class:"footer"})]))])}const yt=k(W,[["render",ut],["__scopeId","data-v-c67f241b"]]);export{yt as default};

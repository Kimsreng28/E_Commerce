import{B as I}from"./Breadcrumb_Component-Co-8O1x_.js";import{B as k}from"./Button_Component-BslC29Dg.js";import{u as C,N as w}from"./Navbar_Component-CWWY1Zf6.js";import{u as b}from"./useCheckOut-CzYeXUmz.js";import{_ as v,a as h,c as f,f as i,g as a,s as o,t as m,u as T,B as y,x as D,C as g,I as N,D as Q,j as d,l as p,F as q,m as O,q as $}from"./index-CM7MdMiN.js";import{F as z}from"./Footer_Component-JhSoATJ7.js";import{L as V}from"./LoadingView-D8r7OzeQ.js";import"./useUserSignupStore-u2h-RB6q.js";const A={name:"CardCheckProduct_Component",props:{id:Number,imageProduct:String,nameProduct:String,sizeProduct:Array,colorProduct:Array,priceProduct:Number,quantity:{type:Number,default:1},fromCheckout:{type:Boolean,default:!1},showDeleteButton:{type:Boolean,default:!0}},setup(n){const t=C(),r=b(),e=h(n.quantity),u=f(()=>n.priceProduct*e.value);return{incrementQuantity:()=>{e.value+=1,t.updateQuantity(n.id,e.value),r.updateQuantity(n.id,e.value)},decrementQuantity:()=>{e.value>1&&(e.value-=1,t.updateQuantity(n.id,e.value),r.updateQuantity(n.id,e.value))},deleteItem:()=>{n.fromCheckout?r.deleteItem(n.id):t.deleteItem(n.id)},quantity:e,totalPrice:u}}},L={class:"cartCheck"},E={class:"image"},M=["src"],R={class:"detail"},U={class:"set"},j={class:"name"},Y={class:"size"},Z={key:0,class:"color"},G={class:"price"},H={class:"quantity"},J={class:"quantityProduct"},K={class:"number"},W={class:"buttonIncrementAndDecrement"};function X(n,t,r,e,u,c){return i(),a("div",L,[o("div",E,[o("img",{src:r.imageProduct,alt:""},null,8,M)]),o("div",R,[o("div",U,[o("div",j,[o("p",null,m(r.nameProduct),1)]),o("div",Y,[o("p",null,"Size: "+m(r.sizeProduct),1)]),n.color?(i(),a("div",Z,[t[3]||(t[3]=o("p",null,"Color:",-1)),o("div",{class:"colorDisplay",style:T({backgroundColor:r.colorProduct})},null,4)])):y("",!0),o("div",G,[o("p",null,"$"+m(e.totalPrice),1)])]),o("div",H,[o("div",{class:D(["delete",{hidden:!r.showDeleteButton}])},[o("button",{onClick:t[0]||(t[0]=(...s)=>e.deleteItem&&e.deleteItem(...s))},t[4]||(t[4]=[o("span",{class:"material-icons"},"delete",-1)]))],2),o("div",J,[o("div",K,[o("p",null,m(e.quantity),1)]),o("div",W,[o("button",{onClick:t[1]||(t[1]=(...s)=>e.incrementQuantity&&e.incrementQuantity(...s))},t[5]||(t[5]=[o("span",{class:"material-icons"},"keyboard_arrow_up",-1)])),o("button",{onClick:t[2]||(t[2]=(...s)=>e.decrementQuantity&&e.decrementQuantity(...s))},t[6]||(t[6]=[o("span",{class:"material-icons"},"keyboard_arrow_down",-1)]))])])])])])}const tt=v(A,[["render",X],["__scopeId","data-v-a79b5f50"]]),ot={name:"PriceSummary_Component",components:{Button_Component:k},props:{titleSummary:String,subtotalPrice:Number,shippingPrice:{type:Number,default:0},discountPrice:{type:Number,default:0},couponPrice:{type:Number,default:0},showCoupon:{type:Boolean,default:!0}},setup(n){const t=h(""),r=h(0),e=h(!1),u=f(()=>n.subtotalPrice+n.shippingPrice-r.value);return{couponCode:t,discountPrice:r,invalidCoupon:e,calculatedTotalPrice:u,applyCoupon:()=>{if(t.value==="DISCOUNT50"){let s=n.subtotalPrice*.5;s=Math.min(s,40),r.value=s,localStorage.setItem("discountPrice",s.toFixed(2)),e.value=!1,alert(`Coupon Applied! Discount: -$${s.toFixed(2)}`)}else e.value=!0,r.value=0,localStorage.setItem("discountPrice","0")}}}},et={class:"priceSummary"},nt={class:"titleSummary"},rt={class:"subtotalPrice"},st={class:"shipping"},it={class:"discount"},ct={key:0,class:"negative"},at={key:1},ut={class:"coupon"},lt={key:0,class:"error-message"},dt={class:"totalPrice"};function mt(n,t,r,e,u,c){const s=p("Button_Component");return i(),a("div",et,[o("div",nt,[o("p",null,m(r.titleSummary),1)]),o("div",rt,[t[1]||(t[1]=o("p",null,"Subtotal:",-1)),o("p",null,"$"+m(r.subtotalPrice.toFixed(2)),1)]),t[5]||(t[5]=o("div",{class:"hr"},[o("hr")],-1)),o("div",st,[t[2]||(t[2]=o("p",null,"Shipping:",-1)),o("p",null,"$"+m(r.shippingPrice.toFixed(2)),1)]),t[6]||(t[6]=o("div",{class:"hr"},[o("hr")],-1)),o("div",it,[t[3]||(t[3]=o("p",null,"Discount:",-1)),e.discountPrice>0?(i(),a("p",ct," - $"+m(e.discountPrice.toFixed(2)),1)):(i(),a("p",at,"$0.00"))]),t[7]||(t[7]=o("div",{class:"hr"},[o("hr")],-1)),g(o("div",ut,[g(o("input",{type:"text",placeholder:"Coupon Code","onUpdate:modelValue":t[0]||(t[0]=_=>e.couponCode=_)},null,512),[[Q,e.couponCode]]),d(s,{"name-button":"Apply coupon","backgroundColor-button":"#958383","height-button":"60px","width-button":"245px","color-button":"#FFFFFF",onClick:e.applyCoupon},null,8,["onClick"])],512),[[N,r.showCoupon]]),e.invalidCoupon?(i(),a("p",lt,"Invalid coupon code!")):y("",!0),o("div",dt,[t[4]||(t[4]=o("p",null,"Total:",-1)),o("p",null,"$"+m(e.calculatedTotalPrice.toFixed(2)),1)])])}const pt=v(ot,[["render",mt],["__scopeId","data-v-59330ac5"]]),_t="/assets/empty-cart-CxmdfrZg.png",Ct={name:"CartView",components:{Navbar_Component:w,Footer_Component:z,Breadcrumb_Component:I,Button_Component:k,CardCheckProduct_Component:tt,PriceSummary_Component:pt,LoadingView:V},data(){return{isLoading:!0,couponCode:"",couponPrice:0}},computed:{cartItems(){return C().cartItems.map(t=>{const r=t.discount||"0%",e=parseFloat(r.replace("%",""))||0,u=t.price*e/100;return{...t,discountPrice:u}})},isCartEmpty(){return this.cartItems.length===0},shippingPrice(){return .25},subtotalPrice(){return this.cartItems.reduce((n,t)=>n+t.price*t.quantity,0)},totalPrice(){return this.subtotalPrice-this.totalDiscountPrice+this.shippingPrice-this.couponPrice}},methods:{loadData(){setTimeout(()=>{this.isLoading=!1},1e3)},moveAllToShop(){C().clearCart(),alert("All items return to shop! Return.")},goToCheckOut(){const n=C(),t=b();t.clearCheckOut(),n.cartItems.forEach(r=>{t.addToCheckOut(r)}),this.$router.push({path:"/checkout"})},navigateToCategory(){this.$router.push({path:"/category"})}},mounted(){this.loadData()}},ht={class:"cartScreen"},yt={key:0,class:"load"},Pt={key:1},vt={key:0,class:"title"},gt={key:1,class:"emptyCart"},kt={class:"startShopping"},bt={key:2,class:"cartCheck"},ft={class:"itemCheck"},Ft={class:"totalSummary"},St={key:3,class:"buttonOfScreen"};function Bt(n,t,r,e,u,c){const s=p("Navbar_Component"),_=p("LoadingView"),F=p("Breadcrumb_Component"),P=p("Button_Component"),S=p("CardCheckProduct_Component"),B=p("PriceSummary_Component"),x=p("Footer_Component");return i(),a("div",ht,[d(s),u.isLoading?(i(),a("div",yt,[d(_)])):(i(),a("div",Pt,[d(F),c.isCartEmpty?y("",!0):(i(),a("div",vt,t[0]||(t[0]=[o("p",null,"Cart Check",-1)]))),c.isCartEmpty?(i(),a("div",gt,[t[1]||(t[1]=o("img",{src:_t,alt:"Empty Cart",class:"emptyCartImage"},null,-1)),t[2]||(t[2]=o("p",{class:"emptyCartText"},"Your cart is empty",-1)),o("div",kt,[d(P,{nameButton:"Start Shopping",backgroundColorButton:"#958383",widthButton:"250px",heightButton:"60px",colorButton:"#FFFFFF",onClick:c.navigateToCategory},null,8,["onClick"])])])):(i(),a("div",bt,[o("div",ft,[(i(!0),a(q,null,O(c.cartItems,l=>(i(),$(S,{class:"cardCheck",key:l.id,id:l.id,imageProduct:l.image,discountProduct:l.discount,nameProduct:l.name,priceProduct:l.price,quantity:l.quantity,"color-product":l.color,"size-product":l.size,showDeleteButton:!0},null,8,["id","imageProduct","discountProduct","nameProduct","priceProduct","quantity","color-product","size-product"]))),128))]),o("div",Ft,[d(B,{titleSummary:"Order summary",subtotalPrice:c.subtotalPrice,shippingPrice:c.shippingPrice,discountPrice:n.totalDiscountPrice,totalPrice:c.totalPrice,"coupon-price":u.couponPrice,showCoupon:!0},null,8,["subtotalPrice","shippingPrice","discountPrice","totalPrice","coupon-price"])])])),c.isCartEmpty?y("",!0):(i(),a("div",St,[d(P,{nameButton:"Return To Shop",backgroundColorButton:"#958383",widthButton:"250px",heightButton:"60px",colorButton:"#FFFFFF",onClick:c.moveAllToShop},null,8,["onClick"]),d(P,{class:"btnCheckOut","name-button":"Process To Check Out","backgroundColor-button":"#564949","height-button":"60px","width-button":"300px","color-button":"#FFFFFF",onClick:c.goToCheckOut},null,8,["onClick"])])),d(x,{class:"footer"})]))])}const Ot=v(Ct,[["render",Bt],["__scopeId","data-v-5ac28aa0"]]);export{Ot as default};

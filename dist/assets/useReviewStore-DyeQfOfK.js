import{v as w}from"./index-CtQclHPH.js";const a=w("review",{state:()=>({reviews:[]}),getters:{recentReviews(i){return i.reviews.filter(e=>{const s=new Date(e.date);return(new Date-s)/(1e3*60*60*24)<=2})}},actions:{loadReviews(){const i=JSON.parse(localStorage.getItem("reviews"))||[];console.log("Loaded reviews from localStorage:",i),this.reviews=i.map(e=>({...e,date:new Date(e.date)})),console.log("Reviews after loading:",this.reviews)},saveReviews(){localStorage.setItem("reviews",JSON.stringify(this.reviews))},addReview(i,e,s,t=null){if(!e||s<1||s>5)throw new Error("Invalid comment or rating.");const r={id:Date.now(),productId:i,comment:e,rating:s,image:t||null,date:new Date().toISOString()};this.reviews.push(r),this.saveReviews()},updateReview(i,e){const s=this.reviews.findIndex(t=>t.id===i);if(s!==-1)this.reviews[s]={...this.reviews[s],...e},this.saveReviews();else throw new Error("Review not found.")},deleteReview(i){this.reviews=this.reviews.filter(e=>e.id!==i),this.saveReviews()}}});export{a as u};

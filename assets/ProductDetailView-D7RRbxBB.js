import{B as et}from"./Breadcrumb_Component-DKdRsi0y.js";import{F as ot}from"./Footer_Component-DL7lJNye.js";import{u as it,a as nt,N as dt}from"./Navbar_Component-B0zYZGF-.js";import{_ as V,a as v,c as b,f as a,g as s,s as e,F as k,m as w,x as S,t as l,u as q,B as y,j as h,z as at,y as E,l as C,o as U,w as st,C as T,I as L,q as W,J as rt,D as Q,K as ct}from"./index-DchyU0Ev.js";import{B as lt}from"./Button_Component-C5OwvnJs.js";import{P as ut,u as O}from"./ProductCard_Component-CHhbVEDi.js";import{u as mt}from"./useReviewStore-LEQkTzkO.js";import{u as vt}from"./useUserSignupStore-DDhU9uzK.js";import{L as M}from"./LoadingView-CbCLkCTw.js";const _t="/assets/free-shipping-DtsGGNQv.png",gt="/assets/product-return-CuaWQWPR.png",pt={name:"DetailProduct_Component",components:{Button_Component:lt},props:{id:Number,imageDetails:Array,imageProduct:String,nameProduct:String,priceProduct:String,ratingProduct:String,descriptionProduct:String,colorProduct:Array,sizeProduct:Array,discountProduct:String,oldPrice:Number,stock:String,quantity:{type:Number,default:1}},setup(d){const i=it(),r=nt(),t=E(),_=v(d.quantity),g=v(d.colorProduct[0]||"#A0BCE0"),m=v(d.sizeProduct[0]||"S"),n=v(d.imageProduct),u=z=>{n.value=z},o=b(()=>d.discountProduct||"0%"),p=Number(d.stock),f=v(p>0?"In Stock":"Out of Stock");return{handleAddToWishlist:()=>{r.addToWishlist({id:d.id,title:d.nameProduct,images:d.imageProduct,price:parseFloat(d.priceProduct),productDiscount:o.value,oldPrice:d.oldPrice,quantity:_.value,color:g.value,size:m.value}),alert("Product added to wishlist!")},handleAddToCart:()=>{i.addToCart({id:d.id,name:d.nameProduct,price:parseFloat(d.priceProduct),image:n.value,quantity:_.value,color:g.value,size:m.value,discount:o.value}),alert("Product added to cart!"),t.push("/cart")},incrementQuantity:()=>{_.value+=1},decrementQuantity:()=>{_.value>1&&(_.value-=1)},quantity:_,selectedColor:g,selectedSize:m,selectImage:u,stock:f,imageProduct:n,discountPrice:o}}},ft={class:"productDetailComponent"},Pt={class:"productDetail"},Ct={class:"imagesOfProducts"},ht={class:"fourImages"},bt=["src","onClick"],kt={class:"mainImage"},wt=["src"],yt={class:"detailOfProduct"},St={class:"name"},Rt={class:"discount"},Dt={class:"rating"},It={class:"price"},Nt={class:"oldPrice"},Tt={class:"description"},Vt={key:0,class:"colorSelection"},zt={class:"colorOptions"},Ft=["onClick"],xt={class:"sizeSelection"},At={class:"sizeOptions"},Bt=["onClick"],qt={class:"detailMethod"},Lt={class:"wishlist"},Qt={class:"buttonIncrementAndDecrement"},Et={class:"number"},Ut={class:"addToCart"};function Wt(d,i,r,t,_,g){const m=C("Button_Component");return a(),s("div",ft,[e("div",Pt,[e("div",Ct,[e("div",ht,[(a(!0),s(k,null,w(r.imageDetails,n=>(a(),s("img",{key:n,src:"http://localhost:5173/"+n,alt:"",onClick:u=>t.selectImage(n),class:S({selected:n===t.imageProduct})},null,10,bt))),128))]),e("div",kt,[e("img",{src:"http://localhost:5173/"+t.imageProduct,alt:""},null,8,wt)])]),e("div",yt,[e("div",St,[e("p",null,l(r.nameProduct),1)]),e("div",Rt,[e("p",null,l(r.discountProduct),1)]),e("div",Dt,[(a(),s(k,null,w(5,n=>e("span",{key:n,class:S(["star",{filled:n<=Math.floor(r.ratingProduct),half:n===Math.ceil(r.ratingProduct)&&!Number.isInteger(r.ratingProduct)}])}," ★ ",2)),64)),e("p",null,"("+l(r.ratingProduct)+")",1),i[3]||(i[3]=e("p",null,"|",-1)),e("p",{style:q({color:t.stock==="In Stock"?"#0fb763":"#ff3d3d"})},l(t.stock),5)]),e("div",It,[e("p",null,"$ "+l(r.priceProduct),1),e("p",Nt,"$ "+l(r.oldPrice),1)]),e("div",Tt,[e("p",null,l(r.descriptionProduct),1)]),i[9]||(i[9]=e("hr",null,null,-1)),r.colorProduct.length>0?(a(),s("div",Vt,[i[4]||(i[4]=e("p",null,"Colors:",-1)),e("div",zt,[(a(!0),s(k,null,w(r.colorProduct,(n,u)=>(a(),s("span",{key:u,class:S(["colorOption",{selected:t.selectedColor===n}]),style:q({backgroundColor:n}),onClick:o=>t.selectedColor=n},null,14,Ft))),128))])])):y("",!0),e("div",xt,[i[5]||(i[5]=e("p",null,"Size:",-1)),e("div",At,[(a(!0),s(k,null,w(r.sizeProduct,(n,u)=>(a(),s("span",{key:u,class:S(["sizeOption",{selected:t.selectedSize===n}]),onClick:o=>t.selectedSize=n},l(n),11,Bt))),128))])]),e("div",qt,[e("div",Lt,[e("button",{onClick:i[0]||(i[0]=(...n)=>t.handleAddToWishlist&&t.handleAddToWishlist(...n))},i[6]||(i[6]=[e("span",{class:"material-icons"},"favorite",-1)]))]),e("div",Qt,[e("button",{id:"add",onClick:i[1]||(i[1]=(...n)=>t.incrementQuantity&&t.incrementQuantity(...n))},i[7]||(i[7]=[e("span",{id:"plus",class:"material-icons"},"add",-1)])),e("div",Et,[e("p",null,l(t.quantity),1)]),e("button",{id:"subtract",onClick:i[2]||(i[2]=(...n)=>t.decrementQuantity&&t.decrementQuantity(...n))},i[8]||(i[8]=[e("span",{id:"minus",class:"material-icons"},"remove",-1)]))]),e("div",Ut,[h(m,{"name-button":"Add To Cart","color-button":"#FFFFFF","background-color-button":"#958383","height-button":"45px","width-button":"140px",icon:"shopping_cart",onClick:t.handleAddToCart},null,8,["onClick"])])]),i[10]||(i[10]=at('<div class="tellAbout" data-v-f6e5b091><div class="freeDelivery" data-v-f6e5b091><div class="img" data-v-f6e5b091><img src="'+_t+'" alt="" data-v-f6e5b091></div><div class="text" data-v-f6e5b091><p data-v-f6e5b091>Free Delivery</p><a data-v-f6e5b091>Click your line go to detail. </a></div></div><div class="returnDelivery" data-v-f6e5b091><div class="img" data-v-f6e5b091><img src="'+gt+'" alt="" data-v-f6e5b091></div><div class="text" data-v-f6e5b091><p data-v-f6e5b091>Return Delivery</p><p data-v-f6e5b091>Free 30 Days Delivery Return.<a data-v-f6e5b091> Detail</a></p></div></div></div>',1))])])])}const Ot=V(pt,[["render",Wt],["__scopeId","data-v-f6e5b091"]]),Mt={name:"StarRating",props:{modelValue:{type:Number,default:0},maxStars:{type:Number,default:5}},emits:["update:modelValue"],computed:{currentRating(){return this.modelValue}},methods:{setRating(d){this.$emit("update:modelValue",d)}}},Gt={class:"star-rating"},jt=["onClick"];function Jt(d,i,r,t,_,g){return a(),s("div",Gt,[(a(!0),s(k,null,w(r.maxStars,m=>(a(),s("span",{key:m,class:S(["star",{active:m<=g.currentRating}]),onClick:n=>g.setRating(m)}," ★ ",10,jt))),128))])}const Kt=V(Mt,[["render",Jt]]),Yt={name:"ReviewProduct_Component",components:{ProductCard_Component:ut,LoadingView:M,StarRating:Kt},props:{productId:{type:[String,Number],required:!0},productTitle:{type:String,required:!0},description:{type:String,required:!0}},setup(d){const i=E(),r=O(),t=mt(),_=vt(),g=["Details","RelateItems","Reviews"],m=v("Details"),n=v(""),u=v(0),o=v(null),p=v(!1),f=v(null),R=v(""),D=v(0),F=v([]);v(!1);const x=b(()=>_.profileImage),z=b(()=>_.firstName),G=b(()=>_.lastName),j=b(()=>r.products.find(c=>c.id==d.productId)),J=b(()=>r.products.filter(c=>{var P;return c.category===((P=j.value)==null?void 0:P.category)})),I=b(()=>t.reviews.filter(c=>c.productId===d.productId)),K=c=>i.push({name:"productDetail",params:{id:c}}),N=()=>{F.value=t.reviews.filter(c=>c.productId===d.productId)},Y=()=>{if(!n.value||u.value<=0||u.value>5){alert("Please provide a valid comment and rating.");return}t.addReview(d.productId,n.value,u.value,o.value),n.value="",u.value=0,o.value=null,N()},H=c=>{const P=I.value[c];p.value=!0,f.value=c,R.value=P.comment,D.value=P.rating},X=()=>{if(f.value===null)return;const c={...I.value[f.value],comment:R.value,rating:D.value,image:o.value||I.value[f.value].image};t.updateReview(c.id,c),N(),A()},A=()=>{p.value=!1,f.value=null,R.value="",D.value=0,o.value=null},Z=c=>{const P=I.value[c].id;t.deleteReview(P)},$=c=>{const P=c.target.files[0];if(P){const B=new FileReader;B.onload=tt=>o.value=tt.target.result,B.readAsDataURL(P)}};return U(()=>{t.loadReviews(),N()}),st(()=>d.productId,N),{tabs:g,selectedTab:m,comment:n,rating:u,image:o,relatedProducts:J,filteredReviews:I,profileImage:x,firstName:z,lastName:G,addReview:Y,isEditing:p,editingComment:R,editingRating:D,editReview:H,saveReview:X,cancelEdit:A,deleteReview:Z,changeTab:c=>m.value=c,goToDetail:K,onImageUpload:$}}},Ht={class:"reviewProduct"},Xt={class:"tabs"},Zt={class:"tabBtn"},$t=["onClick"],te={class:"tabContent"},ee={class:"detail"},oe={class:"contain"},ie={key:0},ne={key:0,class:"loadSearch"},de={key:1,class:"productContain"},ae={key:0,class:"reviews"},se={class:"review-actions"},re={key:0},ce={key:0,class:"edit-form"},le={class:"edit-actions"},ue={class:"review-head"},me=["src"],ve={class:"review-header"},_e={class:"review-name"},ge={class:"review-info"},pe={class:"review-content"},fe={class:"review-product-title"},Pe={class:"review-date"},Ce={class:"review-content1"},he={class:"comment"},be=["src"],ke={class:"but-action"},we=["onClick"],ye=["onClick"];function Se(d,i,r,t,_,g){const m=C("LoadingView"),n=C("ProductCard_Component"),u=C("StarRating");return a(),s("div",Ht,[e("div",Xt,[e("div",Zt,[(a(!0),s(k,null,w(t.tabs,o=>(a(),s("button",{key:o,class:S({active:t.selectedTab===o}),onClick:p=>t.changeTab(o)},l(o),11,$t))),128))])]),e("div",te,[T(e("div",ee,[e("p",null,l(r.description||"No details available for this product."),1)],512),[[L,t.selectedTab==="Details"]]),T(e("div",oe,[t.relatedProducts&&t.relatedProducts.length>0?(a(),s("div",ie,[d.isSearching?(a(),s("div",ne,[h(m)])):(a(),s("div",de,[(a(!0),s(k,null,w(t.relatedProducts,o=>(a(),W(n,{key:o.id,product:o,id:o.id,"name-product":o.title,"image-product":o.image,"rating-product":o.rating,"price-product":o.price,"size-product":o.size,"color-product":o.color,"stock-product":o.stock,"description-product":o.description,"discount-product":o.discount,"image-details":o.imageDetails,"old-price":o.oldPrice,class:"productCard",onClick:p=>t.goToDetail(o.id)},null,8,["product","id","name-product","image-product","rating-product","price-product","size-product","color-product","stock-product","description-product","discount-product","image-details","old-price","onClick"]))),128))]))])):y("",!0)],512),[[L,t.selectedTab==="RelateItems"]]),t.selectedTab==="Reviews"?(a(),s("div",ae,[e("form",{onSubmit:i[4]||(i[4]=rt((...o)=>t.addReview&&t.addReview(...o),["prevent"])),class:"review-form"},[e("div",se,[e("div",null,[T(e("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>t.comment=o),type:"text",placeholder:"Write your review..."},null,512),[[Q,t.comment]]),i[9]||(i[9]=e("label",{class:"rating-label"},"Rating:",-1)),h(u,{modelValue:t.rating,"onUpdate:modelValue":i[1]||(i[1]=o=>t.rating=o),maxStars:5},null,8,["modelValue"]),e("p",null,"Your rating: "+l(t.rating),1)]),e("input",{type:"file",onChange:i[2]||(i[2]=(...o)=>t.onImageUpload&&t.onImageUpload(...o))},null,32),t.image?y("",!0):(a(),s("p",re)),e("button",{onClick:i[3]||(i[3]=(...o)=>d.postReview&&d.postReview(...o))},"Post")])],32),t.isEditing?(a(),s("div",ce,[i[10]||(i[10]=e("h3",null,"Edit Review",-1)),T(e("textarea",{"onUpdate:modelValue":i[5]||(i[5]=o=>t.editingComment=o),placeholder:"Edit your comment",class:"edit-input"},null,512),[[Q,t.editingComment]]),h(u,{modelValue:t.editingRating,"onUpdate:modelValue":i[6]||(i[6]=o=>t.editingRating=o),maxStars:5},null,8,["modelValue"]),e("div",le,[e("button",{onClick:i[7]||(i[7]=(...o)=>t.saveReview&&t.saveReview(...o)),class:"save-btn"},"Save"),e("button",{onClick:i[8]||(i[8]=(...o)=>t.cancelEdit&&t.cancelEdit(...o)),class:"cancel-btn"},"Cancel")])])):y("",!0),i[11]||(i[11]=e("p",null,"Comments",-1)),(a(!0),s(k,null,w(t.filteredReviews,(o,p)=>(a(),s("div",{class:"showReview",key:o.id},[e("div",null,[e("div",ue,[e("img",{src:t.profileImage,alt:"",class:"profile-pic"},null,8,me),e("div",ve,[e("p",_e,l(t.firstName)+" "+l(t.lastName),1),e("p",null,"⭐"+l(o.rating),1)])]),e("div",ge,[e("div",pe,[e("p",fe,l(r.productTitle),1),e("p",Pe,l(new Date(o.date).toLocaleDateString()),1)]),e("div",Ce,[e("p",he,l(o.comment),1),o.image?(a(),s("img",{key:0,src:o.image,alt:"",style:{"max-width":"200px"}},null,8,be)):y("",!0)])])]),e("div",ke,[e("button",{onClick:f=>t.editReview(p)},"Edit",8,we),e("button",{onClick:f=>t.deleteReview(p)},"Delete",8,ye)])]))),128))])):y("",!0)])])}const Re=V(Yt,[["render",Se],["__scopeId","data-v-47e0012d"]]),De={name:"ProductDetailView",components:{Navbar_Component:dt,Footer_Component:ot,Breadcrumb_Component:et,DetailProduct_Component:Ot,LoadingView:M,ReviewProduct_Component:Re},props:{id:{type:[String,Number],required:!0}},setup(){const d=v(!0);U(()=>{setTimeout(()=>{d.value=!1},1e3)});const r=ct().params.id,t=O();return{product:b(()=>t.products.find(g=>g.id===Number(r))),isLoading:d}}},Ie={class:"productDetailScreen"},Ne={key:0,class:"load"},Te={key:1};function Ve(d,i,r,t,_,g){const m=C("Navbar_Component"),n=C("LoadingView"),u=C("Breadcrumb_Component"),o=C("DetailProduct_Component"),p=C("ReviewProduct_Component"),f=C("Footer_Component");return a(),s("div",Ie,[h(m),t.isLoading?(a(),s("div",Ne,[h(n)])):(a(),s("div",Te,[h(u),t.product?(a(),W(o,{class:"pdDt",key:t.product.id,id:t.product.id,imageProduct:t.product.image,nameProduct:t.product.title,ratingProduct:t.product.rating,priceProduct:t.product.price,descriptionProduct:t.product.description,colorProduct:t.product.color,sizeProduct:t.product.size,discountProduct:t.product.discount,oldPrice:t.product.oldPrice,imageDetails:t.product.imageDetails,stock:t.product.stock},null,8,["id","imageProduct","nameProduct","ratingProduct","priceProduct","descriptionProduct","colorProduct","sizeProduct","discountProduct","oldPrice","imageDetails","stock"])):y("",!0),h(p,{productId:d.$route.params.id,description:t.product.description,"product-title":t.product.title},null,8,["productId","description","product-title"]),h(f,{class:"footer"})]))])}const Ue=V(De,[["render",Ve],["__scopeId","data-v-626a9758"]]);export{Ue as default};

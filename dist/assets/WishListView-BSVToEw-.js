import{B as W}from"./Breadcrumb_Component-Co-8O1x_.js";import{B as F}from"./Button_Component-BslC29Dg.js";import{u as L,a as P,N as S}from"./Navbar_Component-CWWY1Zf6.js";import{_ as y,c as w,f as l,g as m,s as t,t as C,j as a,y as f,l as _,a as b,o as k,w as B,C as N,H as A,F as T,m as I,q as x}from"./index-CM7MdMiN.js";import{F as D}from"./Footer_Component-JhSoATJ7.js";import{L as z}from"./LoadingView-D8r7OzeQ.js";import"./useUserSignupStore-u2h-RB6q.js";const V={name:"CardWistList_Component",components:{Button_Component:F},props:{id:Number,imageWistList:String,discountProduct:String,productName:String,oldPrice:Number,currentPrice:Number,colorProduct:Array,sizeProduct:Array,quantity:{type:Number,default:1}},setup(o){console.log("ID received in setup:",o.id);const e=L(),i=f(),s=P(),r=w(()=>o.colorProduct&&o.colorProduct.length>0?o.colorProduct[0]:"#A0BCE0"),c=w(()=>o.sizeProduct&&o.sizeProduct.length>0?o.sizeProduct[0]:"S");return{handleAddToCart:()=>{const h={id:o.id,name:o.productName,price:o.currentPrice,image:o.imageWistList,quantity:o.quantity,color:r.value,size:c.value,discount:o.discountProduct};e.addToCart(h),alert("Product added to cart!"),i.push("/cart")},selectedSize:c,selectedColor:r,deleteItem:()=>{console.log("Deleting item with ID:",o.id),o.id!==void 0&&o.id!==null?(s.removeFromWishlist(o.id),alert("Product removed from wishlist!")):alert("Failed to remove product: Missing product ID.")}}}},M={class:"cardWistList"},q={class:"cardImage"},$={class:"delete"},E={class:"image"},j=["src"],H={class:"addToCart"},O={class:"cardName"},R={class:"name"},U={class:"price"},Y={class:"oldPrice"},Z={class:"currentPrice"};function G(o,e,i,s,r,c){const u=_("Button_Component");return l(),m("div",M,[t("div",q,[t("div",$,[t("p",null,C(i.discountProduct),1),t("button",{onClick:e[0]||(e[0]=(...g)=>s.deleteItem&&s.deleteItem(...g))},e[1]||(e[1]=[t("span",{class:"material-icons"},"delete",-1)]))]),t("div",E,[t("img",{src:i.imageWistList,alt:""},null,8,j)])]),t("div",H,[a(u,{"name-button":"Add To Cart","color-button":"#FFFFFF","background-color-button":"#958383","height-button":"50px","width-button":"270px",icon:"shopping_cart",onClick:s.handleAddToCart},null,8,["onClick"])]),t("div",O,[t("div",R,[t("p",null,C(i.productName),1)]),t("div",U,[t("div",Y,[t("p",null,"$ "+C(i.oldPrice),1)]),t("div",Z,[t("p",null,"$"+C(i.currentPrice),1)])])])])}const J=y(V,[["render",G],["__scopeId","data-v-1b79cd62"]]),K="/assets/empty-wishlist-Bfm8pwZu.jpg",Q={name:"WishListView",components:{Navbar_Component:S,Footer_Component:D,Breadcrumb_Component:W,Button_Component:F,LoadingView:z,CardWistList_Component:J},setup(){const o=b(!0);k(()=>{setTimeout(()=>{o.value=!1},1e3)});const e=P(),i=f(),s=w(()=>e.wishlist),r=b([...s.value]),c=b("date"),u=()=>{const h=c.value;h==="date"?r.value.sort((d,p)=>{const v=d.date?new Date(d.date):new Date(0);return(p.date?new Date(p.date):new Date(0))-v}):h==="name"&&r.value.sort((d,p)=>d.title.localeCompare(p.title))};return B([c,s],()=>{r.value=[...s.value],u()},{immediate:!0}),{wishlistItems:s,sortedWishlist:r,sortWishlist:u,selectedSort:c,goToCategoryProduct:()=>{i.push("/category")},isLoading:o}},methods:{moveAllToShop(){P().clearWishlist(),alert("All items moved to shop! Wishlist cleared.")}}},X={class:"wishListPage"},tt={key:0,class:"load"},ot={key:1},et={key:0,class:"emptyWishlist"},st={key:1},nt={class:"title"},it={class:"showItemCount"},rt={class:"sortBy"},ct={class:"wishList"};function dt(o,e,i,s,r,c){const u=_("Navbar_Component"),g=_("LoadingView"),h=_("Breadcrumb_Component"),d=_("Button_Component"),p=_("CardWistList_Component"),v=_("Footer_Component");return l(),m("div",X,[a(u),s.isLoading?(l(),m("div",tt,[a(g)])):(l(),m("div",ot,[a(h),s.sortedWishlist.length===0?(l(),m("div",et,[e[1]||(e[1]=t("img",{src:K,alt:"Empty Wishlist",class:"emptyImage"},null,-1)),e[2]||(e[2]=t("p",{class:"emptyMessage"},"Your wishlist is empty.",-1)),a(d,{class:"shopNowBtn","name-button":"Shop Now","backgroundColor-button":"#958383","height-button":"50px","width-button":"200px","color-button":"#FFFFFF",onClick:s.goToCategoryProduct},null,8,["onClick"])])):(l(),m("div",st,[t("div",nt,[e[3]||(e[3]=t("p",null,"Wish List",-1)),a(d,{class:"btnStyle","name-button":"Move All To Shop","backgroundColor-button":"#FFFFFF","height-button":"50px","width-button":"200px","color-button":"#958383",onClick:c.moveAllToShop},null,8,["onClick"])]),t("div",it,[t("p",null,"Showing List: "+C(s.sortedWishlist.length)+" Item(s)",1),t("div",rt,[e[5]||(e[5]=t("label",{for:"sort-options"},"Sort By:",-1)),N(t("select",{id:"sort-options","onUpdate:modelValue":e[0]||(e[0]=n=>s.selectedSort=n)},e[4]||(e[4]=[t("option",{value:"date"},"Time",-1),t("option",{value:"name"},"Name",-1)]),512),[[A,s.selectedSort]])])]),t("div",ct,[(l(!0),m(T,null,I(s.sortedWishlist,n=>(l(),x(p,{class:"cardWistList",key:n.id,id:n.id,imageWistList:n.images,discountProduct:n.productDiscount,productName:n.title,oldPrice:n.oldPrice,currentPrice:n.price,colorProduct:Array.isArray(n.color)?n.color:[n.color],sizeProduct:n.size},null,8,["id","imageWistList","discountProduct","productName","oldPrice","currentPrice","colorProduct","sizeProduct"]))),128))]),a(d,{class:"view","name-button":"View All","backgroundColor-button":"#958383","height-button":"50px","width-button":"200px","color-button":"#FFFFFF",onClick:s.goToCategoryProduct},null,8,["onClick"])])),a(v,{class:"footer"})]))])}const gt=y(Q,[["render",dt],["__scopeId","data-v-69c88b44"]]);export{gt as default};

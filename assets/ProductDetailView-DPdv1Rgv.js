import{B as ot}from"./Breadcrumb_Component-Co-8O1x_.js";import{F as it}from"./Footer_Component-JhSoATJ7.js";import{u as nt,a as dt,N as st}from"./Navbar_Component-CWWY1Zf6.js";import{u as U}from"./useUserSignupStore-u2h-RB6q.js";import{_ as z,a as _,c as k,f as s,g as a,s as e,F as w,m as y,x as D,t as u,u as q,B as S,j as h,z as at,y as W,l as f,o as O,w as rt,C as V,I as Q,q as M,J as ct,D as E,K as lt}from"./index-CM7MdMiN.js";import{B as ut}from"./Button_Component-BslC29Dg.js";import{P as mt,u as G}from"./ProductCard_Component-LxSkXZCQ.js";import{u as vt}from"./useReviewStore-CcD4ktc7.js";import{L as j}from"./LoadingView-D8r7OzeQ.js";const _t="/assets/free-shipping-DtsGGNQv.png",gt="/assets/product-return-CuaWQWPR.png",pt={name:"DetailProduct_Component",components:{Button_Component:ut},props:{id:Number,imageDetails:Array,imageProduct:String,nameProduct:String,priceProduct:String,ratingProduct:String,descriptionProduct:String,colorProduct:Array,sizeProduct:Array,discountProduct:String,oldPrice:Number,stock:String,quantity:{type:Number,default:1}},setup(d){const i=nt(),r=dt(),t=W(),p=U(),m=_(d.quantity),v=_(d.colorProduct[0]||"#A0BCE0"),n=_(d.sizeProduct[0]||"S"),l=_(d.imageProduct),o=b=>{l.value=b},g=k(()=>d.discountProduct||"0%"),P=Number(d.stock),R=_(P>0?"In Stock":"Out of Stock");return{handleAddToWishlist:b=>{if(b.stopPropagation(),!p.isLoggedIn){alert("Please login to add product to wishlist!"),t.push("/signIn");return}r.addToWishlist({id:d.id,title:d.nameProduct,images:d.imageProduct,price:parseFloat(d.priceProduct),productDiscount:g.value,oldPrice:d.oldPrice,quantity:m.value,color:v.value,size:n.value}),alert("Product added to wishlist!")},handleAddToCart:b=>{if(b.stopPropagation(),!p.isLoggedIn){alert("Please login to add product to cart!"),t.push("/signIn");return}i.addToCart({id:d.id,name:d.nameProduct,price:parseFloat(d.priceProduct),image:l.value,quantity:m.value,color:v.value,size:n.value,discount:g.value}),alert("Product added to cart!"),t.push("/cart")},incrementQuantity:()=>{m.value+=1},decrementQuantity:()=>{m.value>1&&(m.value-=1)},quantity:m,selectedColor:v,selectedSize:n,selectImage:o,stock:R,imageProduct:l,discountPrice:g}}},Pt={class:"productDetailComponent"},Ct={class:"productDetail"},ft={class:"imagesOfProducts"},ht={class:"fourImages"},kt=["src","onClick"],wt={class:"mainImage"},yt=["src"],bt={class:"detailOfProduct"},St={class:"name"},Rt={class:"discount"},Dt={class:"rating"},It={class:"price"},Nt={class:"oldPrice"},Tt={class:"description"},Vt={key:0,class:"colorSelection"},zt={class:"colorOptions"},Ft=["onClick"],xt={class:"sizeSelection"},At={class:"sizeOptions"},Bt=["onClick"],Lt={class:"detailMethod"},qt={class:"wishlist"},Qt={class:"buttonIncrementAndDecrement"},Et={class:"number"},Ut={class:"addToCart"};function Wt(d,i,r,t,p,m){const v=f("Button_Component");return s(),a("div",Pt,[e("div",Ct,[e("div",ft,[e("div",ht,[(s(!0),a(w,null,y(r.imageDetails,n=>(s(),a("img",{key:n,src:"http://localhost:5173/"+n,alt:"",onClick:l=>t.selectImage(n),class:D({selected:n===t.imageProduct})},null,10,kt))),128))]),e("div",wt,[e("img",{src:"http://localhost:5173/"+t.imageProduct,alt:""},null,8,yt)])]),e("div",bt,[e("div",St,[e("p",null,u(r.nameProduct),1)]),e("div",Rt,[e("p",null,u(r.discountProduct),1)]),e("div",Dt,[(s(),a(w,null,y(5,n=>e("span",{key:n,class:D(["star",{filled:n<=Math.floor(r.ratingProduct),half:n===Math.ceil(r.ratingProduct)&&!Number.isInteger(r.ratingProduct)}])}," ★ ",2)),64)),e("p",null,"("+u(r.ratingProduct)+")",1),i[3]||(i[3]=e("p",null,"|",-1)),e("p",{style:q({color:t.stock==="In Stock"?"#0fb763":"#ff3d3d"})},u(t.stock),5)]),e("div",It,[e("p",null,"$ "+u(r.priceProduct),1),e("p",Nt,"$ "+u(r.oldPrice),1)]),e("div",Tt,[e("p",null,u(r.descriptionProduct),1)]),i[9]||(i[9]=e("hr",null,null,-1)),r.colorProduct.length>0?(s(),a("div",Vt,[i[4]||(i[4]=e("p",null,"Colors:",-1)),e("div",zt,[(s(!0),a(w,null,y(r.colorProduct,(n,l)=>(s(),a("span",{key:l,class:D(["colorOption",{selected:t.selectedColor===n}]),style:q({backgroundColor:n}),onClick:o=>t.selectedColor=n},null,14,Ft))),128))])])):S("",!0),e("div",xt,[i[5]||(i[5]=e("p",null,"Size:",-1)),e("div",At,[(s(!0),a(w,null,y(r.sizeProduct,(n,l)=>(s(),a("span",{key:l,class:D(["sizeOption",{selected:t.selectedSize===n}]),onClick:o=>t.selectedSize=n},u(n),11,Bt))),128))])]),e("div",Lt,[e("div",qt,[e("button",{onClick:i[0]||(i[0]=(...n)=>t.handleAddToWishlist&&t.handleAddToWishlist(...n))},i[6]||(i[6]=[e("span",{class:"material-icons"},"favorite",-1)]))]),e("div",Qt,[e("button",{id:"add",onClick:i[1]||(i[1]=(...n)=>t.incrementQuantity&&t.incrementQuantity(...n))},i[7]||(i[7]=[e("span",{id:"plus",class:"material-icons"},"add",-1)])),e("div",Et,[e("p",null,u(t.quantity),1)]),e("button",{id:"subtract",onClick:i[2]||(i[2]=(...n)=>t.decrementQuantity&&t.decrementQuantity(...n))},i[8]||(i[8]=[e("span",{id:"minus",class:"material-icons"},"remove",-1)]))]),e("div",Ut,[h(v,{"name-button":"Add To Cart","color-button":"#FFFFFF","background-color-button":"#958383","height-button":"45px","width-button":"140px",icon:"shopping_cart",onClick:t.handleAddToCart},null,8,["onClick"])])]),i[10]||(i[10]=at('<div class="tellAbout" data-v-9064e1dd><div class="freeDelivery" data-v-9064e1dd><div class="img" data-v-9064e1dd><img src="'+_t+'" alt="" data-v-9064e1dd></div><div class="text" data-v-9064e1dd><p data-v-9064e1dd>Free Delivery</p><a data-v-9064e1dd>Click your line go to detail. </a></div></div><div class="returnDelivery" data-v-9064e1dd><div class="img" data-v-9064e1dd><img src="'+gt+'" alt="" data-v-9064e1dd></div><div class="text" data-v-9064e1dd><p data-v-9064e1dd>Return Delivery</p><p data-v-9064e1dd>Free 30 Days Delivery Return.<a data-v-9064e1dd> Detail</a></p></div></div></div>',1))])])])}const Ot=z(pt,[["render",Wt],["__scopeId","data-v-9064e1dd"]]),Mt={name:"StarRating",props:{modelValue:{type:Number,default:0},maxStars:{type:Number,default:5}},emits:["update:modelValue"],computed:{currentRating(){return this.modelValue}},methods:{setRating(d){this.$emit("update:modelValue",d)}}},Gt={class:"star-rating"},jt=["onClick"];function Jt(d,i,r,t,p,m){return s(),a("div",Gt,[(s(!0),a(w,null,y(r.maxStars,v=>(s(),a("span",{key:v,class:D(["star",{active:v<=m.currentRating}]),onClick:n=>m.setRating(v)}," ★ ",10,jt))),128))])}const Kt=z(Mt,[["render",Jt]]),Yt={name:"ReviewProduct_Component",components:{ProductCard_Component:mt,LoadingView:j,StarRating:Kt},props:{productId:{type:[String,Number],required:!0},productTitle:{type:String,required:!0},description:{type:String,required:!0}},setup(d){const i=W(),r=G(),t=vt(),p=U(),m=["Details","RelateItems","Reviews"],v=_("Details"),n=_(""),l=_(0),o=_(null),g=_(!1),P=_(null),R=_(""),I=_(0),F=_([]);_(!1);const x=k(()=>p.profileImage),A=k(()=>p.firstName),b=k(()=>p.lastName),J=k(()=>r.products.find(c=>c.id==d.productId)),K=k(()=>r.products.filter(c=>{var C;return c.category===((C=J.value)==null?void 0:C.category)})),N=k(()=>t.reviews.filter(c=>c.productId===d.productId)),Y=c=>i.push({name:"productDetail",params:{id:c}}),T=()=>{F.value=t.reviews.filter(c=>c.productId===d.productId)},H=()=>{if(!n.value||l.value<=0||l.value>5){alert("Please provide a valid comment and rating.");return}t.addReview(d.productId,n.value,l.value,o.value),n.value="",l.value=0,o.value=null,T()},X=c=>{const C=N.value[c];g.value=!0,P.value=c,R.value=C.comment,I.value=C.rating},Z=()=>{if(P.value===null)return;const c={...N.value[P.value],comment:R.value,rating:I.value,image:o.value||N.value[P.value].image};t.updateReview(c.id,c),T(),B()},B=()=>{g.value=!1,P.value=null,R.value="",I.value=0,o.value=null},$=c=>{const C=N.value[c].id;t.deleteReview(C)},tt=c=>{const C=c.target.files[0];if(C){const L=new FileReader;L.onload=et=>o.value=et.target.result,L.readAsDataURL(C)}};return O(()=>{t.loadReviews(),T()}),rt(()=>d.productId,T),{tabs:m,selectedTab:v,comment:n,rating:l,image:o,relatedProducts:K,filteredReviews:N,profileImage:x,firstName:A,lastName:b,addReview:H,isEditing:g,editingComment:R,editingRating:I,editReview:X,saveReview:Z,cancelEdit:B,deleteReview:$,changeTab:c=>v.value=c,goToDetail:Y,onImageUpload:tt}}},Ht={class:"reviewProduct"},Xt={class:"tabs"},Zt={class:"tabBtn"},$t=["onClick"],te={class:"tabContent"},ee={class:"detail"},oe={class:"contain"},ie={key:0},ne={key:0,class:"loadSearch"},de={key:1,class:"productContain"},se={key:0,class:"reviews"},ae={class:"review-actions"},re={key:0},ce={key:0,class:"edit-form"},le={class:"edit-actions"},ue={class:"review-head"},me=["src"],ve={class:"review-header"},_e={class:"review-name"},ge={class:"review-info"},pe={class:"review-content"},Pe={class:"review-product-title"},Ce={class:"review-date"},fe={class:"review-content1"},he={class:"comment"},ke=["src"],we={class:"but-action"},ye=["onClick"],be=["onClick"];function Se(d,i,r,t,p,m){const v=f("LoadingView"),n=f("ProductCard_Component"),l=f("StarRating");return s(),a("div",Ht,[e("div",Xt,[e("div",Zt,[(s(!0),a(w,null,y(t.tabs,o=>(s(),a("button",{key:o,class:D({active:t.selectedTab===o}),onClick:g=>t.changeTab(o)},u(o),11,$t))),128))])]),e("div",te,[V(e("div",ee,[e("p",null,u(r.description||"No details available for this product."),1)],512),[[Q,t.selectedTab==="Details"]]),V(e("div",oe,[t.relatedProducts&&t.relatedProducts.length>0?(s(),a("div",ie,[d.isSearching?(s(),a("div",ne,[h(v)])):(s(),a("div",de,[(s(!0),a(w,null,y(t.relatedProducts,o=>(s(),M(n,{key:o.id,product:o,id:o.id,"name-product":o.title,"image-product":o.image,"rating-product":o.rating,"price-product":o.price,"size-product":o.size,"color-product":o.color,"stock-product":o.stock,"description-product":o.description,"discount-product":o.discount,"image-details":o.imageDetails,"old-price":o.oldPrice,class:"productCard",onClick:g=>t.goToDetail(o.id)},null,8,["product","id","name-product","image-product","rating-product","price-product","size-product","color-product","stock-product","description-product","discount-product","image-details","old-price","onClick"]))),128))]))])):S("",!0)],512),[[Q,t.selectedTab==="RelateItems"]]),t.selectedTab==="Reviews"?(s(),a("div",se,[e("form",{onSubmit:i[4]||(i[4]=ct((...o)=>t.addReview&&t.addReview(...o),["prevent"])),class:"review-form"},[e("div",ae,[e("div",null,[V(e("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>t.comment=o),type:"text",placeholder:"Write your review..."},null,512),[[E,t.comment]]),i[9]||(i[9]=e("label",{class:"rating-label"},"Rating:",-1)),h(l,{modelValue:t.rating,"onUpdate:modelValue":i[1]||(i[1]=o=>t.rating=o),maxStars:5},null,8,["modelValue"]),e("p",null,"Your rating: "+u(t.rating),1)]),e("input",{type:"file",onChange:i[2]||(i[2]=(...o)=>t.onImageUpload&&t.onImageUpload(...o))},null,32),t.image?S("",!0):(s(),a("p",re)),e("button",{onClick:i[3]||(i[3]=(...o)=>d.postReview&&d.postReview(...o))},"Post")])],32),t.isEditing?(s(),a("div",ce,[i[10]||(i[10]=e("h3",null,"Edit Review",-1)),V(e("textarea",{"onUpdate:modelValue":i[5]||(i[5]=o=>t.editingComment=o),placeholder:"Edit your comment",class:"edit-input"},null,512),[[E,t.editingComment]]),h(l,{modelValue:t.editingRating,"onUpdate:modelValue":i[6]||(i[6]=o=>t.editingRating=o),maxStars:5},null,8,["modelValue"]),e("div",le,[e("button",{onClick:i[7]||(i[7]=(...o)=>t.saveReview&&t.saveReview(...o)),class:"save-btn"},"Save"),e("button",{onClick:i[8]||(i[8]=(...o)=>t.cancelEdit&&t.cancelEdit(...o)),class:"cancel-btn"},"Cancel")])])):S("",!0),i[11]||(i[11]=e("p",null,"Comments",-1)),(s(!0),a(w,null,y(t.filteredReviews,(o,g)=>(s(),a("div",{class:"showReview",key:o.id},[e("div",null,[e("div",ue,[e("img",{src:t.profileImage,alt:"",class:"profile-pic"},null,8,me),e("div",ve,[e("p",_e,u(t.firstName)+" "+u(t.lastName),1),e("p",null,"⭐"+u(o.rating),1)])]),e("div",ge,[e("div",pe,[e("p",Pe,u(r.productTitle),1),e("p",Ce,u(new Date(o.date).toLocaleDateString()),1)]),e("div",fe,[e("p",he,u(o.comment),1),o.image?(s(),a("img",{key:0,src:o.image,alt:"",style:{"max-width":"200px"}},null,8,ke)):S("",!0)])])]),e("div",we,[e("button",{onClick:P=>t.editReview(g)},"Edit",8,ye),e("button",{onClick:P=>t.deleteReview(g)},"Delete",8,be)])]))),128))])):S("",!0)])])}const Re=z(Yt,[["render",Se],["__scopeId","data-v-47e0012d"]]),De={name:"ProductDetailView",components:{Navbar_Component:st,Footer_Component:it,Breadcrumb_Component:ot,DetailProduct_Component:Ot,LoadingView:j,ReviewProduct_Component:Re},props:{id:{type:[String,Number],required:!0}},setup(){const d=_(!0);O(()=>{setTimeout(()=>{d.value=!1},1e3)});const r=lt().params.id,t=G();return{product:k(()=>t.products.find(m=>m.id===Number(r))),isLoading:d}}},Ie={class:"productDetailScreen"},Ne={key:0,class:"load"},Te={key:1};function Ve(d,i,r,t,p,m){const v=f("Navbar_Component"),n=f("LoadingView"),l=f("Breadcrumb_Component"),o=f("DetailProduct_Component"),g=f("ReviewProduct_Component"),P=f("Footer_Component");return s(),a("div",Ie,[h(v),t.isLoading?(s(),a("div",Ne,[h(n)])):(s(),a("div",Te,[h(l),t.product?(s(),M(o,{class:"pdDt",key:t.product.id,id:t.product.id,imageProduct:t.product.image,nameProduct:t.product.title,ratingProduct:t.product.rating,priceProduct:t.product.price,descriptionProduct:t.product.description,colorProduct:t.product.color,sizeProduct:t.product.size,discountProduct:t.product.discount,oldPrice:t.product.oldPrice,imageDetails:t.product.imageDetails,stock:t.product.stock},null,8,["id","imageProduct","nameProduct","ratingProduct","priceProduct","descriptionProduct","colorProduct","sizeProduct","discountProduct","oldPrice","imageDetails","stock"])):S("",!0),h(g,{productId:d.$route.params.id,description:t.product.description,"product-title":t.product.title},null,8,["productId","description","product-title"]),h(P,{class:"footer"})]))])}const Ue=z(De,[["render",Ve],["__scopeId","data-v-626a9758"]]);export{Ue as default};

import{B as O}from"./Breadcrumb_Component-hauAcdFA.js";import{F as k}from"./Footer_Component-Dtm_2BHz.js";import{N as w,u as x}from"./Navbar_Component-ZR1cQJ3T.js";import{B}from"./Button_Component-Bseh6dy0.js";import{u as g}from"./useOrderHistory-DlpyJIRB.js";import{_ as y,a as v,w as S,o as C,f as i,g as a,s as o,C as H,H as N,F as f,m as F,t as p,u as I,j as c,l as _}from"./index-CtQclHPH.js";import{u as V}from"./useCheckOut-CV47Pdpq.js";import{L as $}from"./LoadingView-CAG0qKEz.js";import"./useUserSignupStore-Kl5PjanY.js";const D={name:"OrderHistory_Component",components:{Button_Component:B},setup(){const l=g(),e=v([]),d=v("date"),n=()=>{const r=l.orderHistory;let s=0;const t=setInterval(()=>{if(s<r.length){const u=r[s];e.value.some(m=>m.id===u.id)||e.value.push(u),h(),s++}else clearInterval(t)},500)},b=r=>{const s=l.orderHistory.find(u=>u.items.some(m=>m.id===r)),t=s?s.items.find(u=>u.id===r):null;return t?t.image:"default-image-url.jpg"},h=()=>{const r=[...e.value];d.value==="date"?r.sort((s,t)=>new Date(t.date)-new Date(s.date)):d.value==="alphabetical"&&r.sort((s,t)=>s.items[0].name.localeCompare(t.items[0].name)),e.value=r};return S(d,h),C(()=>{console.log("Fetched Orders:",l.orderHistory),n()}),{visibleOrders:e,getImageById:b,selectedSort:d}}},L={class:"orderHistory"},q={class:"sortBy"},z={key:0},R={key:1},j={class:"order-card-container"},M={class:"order-card"},U=["src"],A={class:"order-details"},E={class:"product-info"},P={class:"item-header"},T={class:"item-name"},G={class:"price-section"},J={class:"item-price"},K={class:"quantity"},Q={style:{"font-weight":"bold"}},W={class:"color-section"},X=["title"],Y={class:"order-date"},Z={class:"button-row"};function oo(l,e,d,n,b,h){const r=_("Button_Component");return i(),a("div",L,[o("div",q,[e[2]||(e[2]=o("label",{for:"sort"},"Sort By:",-1)),H(o("select",{id:"sort","onUpdate:modelValue":e[0]||(e[0]=s=>n.selectedSort=s)},e[1]||(e[1]=[o("option",{value:"date"},"Date",-1),o("option",{value:"alphabetical"},"Product Name",-1)]),512),[[N,n.selectedSort]])]),n.visibleOrders.length===0?(i(),a("div",z,"No orders found.")):(i(),a("div",R,[(i(!0),a(f,null,F(n.visibleOrders,s=>(i(),a("div",{key:s.id,class:"order"},[o("div",j,[(i(!0),a(f,null,F(s.items,t=>(i(),a("div",{key:t.id},[o("div",M,[o("img",{src:n.getImageById(t.id),alt:"",class:"product-image"},null,8,U),o("div",A,[o("div",E,[o("div",P,[o("p",T,p(t.name),1),o("div",G,[o("h2",J," $"+p((t.price*t.quantity).toFixed(2)),1),o("p",K,"x"+p(t.quantity),1)])]),o("p",Q," Size: "+p(t.size||"N/A"),1),o("div",W,[e[3]||(e[3]=o("span",{style:{"font-weight":"bold"}},"Color:",-1)),o("div",{class:"colorOption",style:I({backgroundColor:t.color||"#ccc"}),title:t.color||"No color provided"},null,12,X)]),o("p",Y,p(s.date),1)])])]),o("div",Z,[c(r,{id:"button-border","name-button":"Delivery Details","color-button":"#958383","background-color-button":"#FFFFFF","height-button":"40px","width-button":"150px"}),c(r,{id:"button-border","name-button":"Refund","color-button":"#958383","background-color-button":"#FFFFFF","height-button":"40px","width-button":"150px"}),c(r,{"name-button":"Re-Order","color-button":"#FFFFFF","background-color-button":"#564949","height-button":"40px","width-button":"150px"}),c(r,{"name-button":"Rate Us!","color-button":"#FFFFFF","background-color-button":"#564949","height-button":"40px","width-button":"150px"})])]))),128))])]))),128))]))])}const to=y(D,[["render",oo],["__scopeId","data-v-722dedc6"]]),eo={name:"OrderView",components:{Navbar_Component:w,LoadingView:$,Breadcrumb_Component:O,Footer_Component:k,OrderHistory_Component:to},setup(){const l=v(!0),e=g(),d=V(),n=x();return C(()=>{d.checkOut.length>0&&(e.addOrderFromCheckout(d.checkOut),d.clearCheckOut()),n.clearCart(),setTimeout(()=>{l.value=!1},1e3)}),{isLoading:l}}},so={class:"orderScreen"},ro={key:0,class:"load"},no={key:1,class:"container"};function io(l,e,d,n,b,h){const r=_("Navbar_Component"),s=_("LoadingView"),t=_("Breadcrumb_Component"),u=_("OrderHistory_Component"),m=_("Footer_Component");return i(),a("div",so,[c(r),n.isLoading?(i(),a("div",ro,[c(s)])):(i(),a("div",no,[c(t),e[0]||(e[0]=o("div",{class:"title"},[o("p",null,"Ordered")],-1)),c(u)])),c(m,{class:"footer"})])}const vo=y(eo,[["render",io],["__scopeId","data-v-c0606868"]]);export{vo as default};

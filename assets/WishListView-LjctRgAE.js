import{B as W}from"./Breadcrumb_Component-D_DqCQk4.js";import{B as f}from"./Button_Component-tgwf09xt.js";import{u as y,a as b,N as S}from"./Navbar_Component-CiQvBHpS.js";import{_ as F,c as w,f as l,g as C,s as t,t as v,j as u,y as L,l as m,a as P,o as B,w as N,C as k,H as A,F as T,m as I,B as D,q as x}from"./index-CFOGQU_k.js";import{F as V}from"./Footer_Component-BIkh6YzD.js";import{L as z}from"./LoadingView-Cc9w8Ri5.js";import"./useUserSignupStore-CRsTeUvy.js";const q={name:"CardWistList_Component",components:{Button_Component:f},props:{id:Number,imageWistList:String,discountProduct:String,productName:String,oldPrice:Number,currentPrice:Number,colorProduct:Array,sizeProduct:Array,quantity:{type:Number,default:1}},setup(o){console.log("ID received in setup:",o.id);const s=y(),i=L(),e=b(),r=w(()=>o.colorProduct&&o.colorProduct.length>0?o.colorProduct[0]:"#A0BCE0"),c=w(()=>o.sizeProduct&&o.sizeProduct.length>0?o.sizeProduct[0]:"S");return{handleAddToCart:()=>{const _={id:o.id,name:o.productName,price:o.currentPrice,image:o.imageWistList,quantity:o.quantity,color:r.value,size:c.value,discount:o.discountProduct};s.addToCart(_),alert("Product added to cart!"),i.push("/cart")},selectedSize:c,selectedColor:r,deleteItem:()=>{console.log("Deleting item with ID:",o.id),o.id!==void 0&&o.id!==null?(e.removeFromWishlist(o.id),alert("Product removed from wishlist!")):alert("Failed to remove product: Missing product ID.")}}}},M={class:"cardWistList"},$={class:"cardImage"},E={class:"delete"},j={class:"image"},H=["src"],O={class:"addToCart"},R={class:"cardName"},U={class:"name"},G={class:"price"},J={class:"oldPrice"},K={class:"currentPrice"};function Q(o,s,i,e,r,c){const d=m("Button_Component");return l(),C("div",M,[t("div",$,[t("div",E,[t("p",null,v(i.discountProduct),1),t("button",{onClick:s[0]||(s[0]=(...g)=>e.deleteItem&&e.deleteItem(...g))},s[1]||(s[1]=[t("span",{class:"material-icons"},"delete",-1)]))]),t("div",j,[t("img",{src:i.imageWistList,alt:""},null,8,H)])]),t("div",O,[u(d,{"name-button":"Add To Cart","color-button":"#FFFFFF","background-color-button":"#958383","height-button":"50px","width-button":"270px",icon:"shopping_cart",onClick:e.handleAddToCart},null,8,["onClick"])]),t("div",R,[t("div",U,[t("p",null,v(i.productName),1)]),t("div",G,[t("div",J,[t("p",null,"$ "+v(i.oldPrice),1)]),t("div",K,[t("p",null,"$"+v(i.currentPrice),1)])])])])}const X=F(q,[["render",Q],["__scopeId","data-v-406558cf"]]),Y={name:"WishListView",components:{Navbar_Component:S,Footer_Component:V,Breadcrumb_Component:W,Button_Component:f,LoadingView:z,CardWistList_Component:X},setup(){const o=P(!0);B(()=>{setTimeout(()=>{o.value=!1},1e3)});const s=b(),i=L(),e=w(()=>s.wishlist),r=P([...e.value]),c=P("date"),d=()=>{const _=c.value;_==="date"?r.value.sort((a,h)=>{const p=a.date?new Date(a.date):new Date(0);return(h.date?new Date(h.date):new Date(0))-p}):_==="name"&&r.value.sort((a,h)=>a.title.localeCompare(h.title))};return N([c,e],()=>{r.value=[...e.value],d()},{immediate:!0}),{wishlistItems:e,sortedWishlist:r,sortWishlist:d,selectedSort:c,goToCategoryProduct:()=>{i.push("/category")},isLoading:o}},methods:{moveAllToShop(){b().clearWishlist(),alert("All items moved to shop! Wishlist cleared.")}}},Z={class:"wishListPage"},tt={key:0,class:"load"},ot={key:1},et={class:"title"},st={class:"showItemCount"},nt={class:"sortBy"},it={key:0,class:"wishList"};function rt(o,s,i,e,r,c){const d=m("Navbar_Component"),g=m("LoadingView"),_=m("Breadcrumb_Component"),a=m("Button_Component"),h=m("CardWistList_Component"),p=m("Footer_Component");return l(),C("div",Z,[u(d),e.isLoading?(l(),C("div",tt,[u(g)])):(l(),C("div",ot,[u(_),t("div",et,[s[1]||(s[1]=t("p",null,"Wish List",-1)),u(a,{class:"btnStyle","name-button":"Move All To Shop","backgroundColor-button":"#FFFFFF","height-button":"50px","width-button":"200px","color-button":"#958383",onClick:c.moveAllToShop},null,8,["onClick"])]),t("div",st,[t("p",null,"Showing List: "+v(e.sortedWishlist.length)+" Item(s)",1),t("div",nt,[s[3]||(s[3]=t("label",{for:"sort-options"},"Sort By:",-1)),k(t("select",{id:"sort-options","onUpdate:modelValue":s[0]||(s[0]=n=>e.selectedSort=n)},s[2]||(s[2]=[t("option",{value:"date"},"Time",-1),t("option",{value:"name"},"Name",-1)]),512),[[A,e.selectedSort]])])]),e.sortedWishlist.length>0?(l(),C("div",it,[(l(!0),C(T,null,I(e.sortedWishlist,n=>(l(),x(h,{class:"cardWistList",key:n.id,id:n.id,imageWistList:n.images,discountProduct:n.productDiscount,productName:n.title,oldPrice:n.oldPrice,currentPrice:n.price,colorProduct:Array.isArray(n.color)?n.color:[n.color],sizeProduct:n.size},null,8,["id","imageWistList","discountProduct","productName","oldPrice","currentPrice","colorProduct","sizeProduct"]))),128))])):D("",!0),u(a,{class:"view","name-button":"View All","backgroundColor-button":"#958383","height-button":"50px","width-button":"200px","color-button":"#FFFFFF",onClick:e.goToCategoryProduct},null,8,["onClick"]),u(p,{class:"footer"})]))])}const ht=F(Y,[["render",rt],["__scopeId","data-v-12049055"]]);export{ht as default};
